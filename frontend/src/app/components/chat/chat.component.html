<div class="container-fluid chat">
  <div class="row chat">
    <div class="col-4 channels">
      <div class="row">
        <div class="input-group m-2">
          <input type="text" class="form-control" placeholder="Start a conversation with.." [(ngModel)]="loginname">
          <div class="input-group-append">
            <button class="btn btn-primary" type="button" (click)="establish()">+</button>
          </div>
        </div>
        <div class="channel p-2 m-2 rounded-sm" [ngClass]="!currentChannel ? 'selected' : ''" (click)="connectTo(null)">
          Public chat
        </div>
        <div *ngFor="let channel of channels" class="channel p-2 m-2 rounded-sm" [ngClass]="channel == currentChannel ? 'selected' : ''" (click)="connectTo(channel)">
          {{channel.participantLoginNames[0]}}
        </div>
      </div>
    </div>
    <div class="col-8 messages h-100">
      <div class="name h3 p-3" *ngIf="currentChannel">{{currentChannel.participantLoginNames[0]}}, {{currentChannel.participantLoginNames[1]}}</div>
      <div class="name h3 p-3" *ngIf="!currentChannel">Public Chat</div>
      <hr>
      <ng-container *ngFor="let mess of messages">
<!--        <div [ngClass]="mess.authorLoginName == this.currentUser.loginName ? 'myMessage' : 'otherMessage'">-->
        <div class="message m-1">
          <span class="h5 mr-2">{{mess.authorLoginName}} : </span>
          <span class="text-body">{{mess.content}}</span>
        </div>
      </ng-container>

      <div class="input-group m-2 field">
        <input type="text" class="form-control" placeholder="Type your message.." [(ngModel)]="message">
        <div class="input-group-append">
          <button class="btn btn-primary" type="button" (click)="send()">Send</button>
        </div>
      </div>
    </div>
  </div>
</div>
